{% extends 'base.html' %}

{% block content %}
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="/static/recipe_movie.css">
</head>
<br>
<br>
<br>
<h4 style="font-family: 'Finger Paint', cursive; text-align:left" id="start">let's start with the recipe...</h4>
<h4 style="font-family: 'Finger Paint', cursive; text-align:right; display:none" id="movie-text">and now for the movie...</h4>
<div class="row">
  {% set recipe_url = recipe['url'] %}
  {% set recipe_image = recipe['image'] %}
  {% set recipe_name = recipe['label'].split(':')[-1] %}
  {% set recipe_ing = ('; '.join(recipe['ingredientLines'])) %}
  {% set recipe_id = recipe['uri'][-32:] %}
<!-- Jumbotron -->
<div class="jumbotron text-center col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-12">

  <!-- Title -->
  <h4 class="card-title h4 pb-2" id="recipe-name" style="font-family: 'Cabin Sketch', cursive;"><strong>{{ recipe_name }}</strong></h4>

  <!-- Card image -->
  <div class="view overlay my-4 text-center">
    <img src="{{ recipe_image }}" class="img-fluid mx-auto d-block" id="recipe-img" style="width:400px; height:450px">
    <a href="{{ recipe_url }}" id="recipe-url">
      <div class="mask rgba-white-slight"></div>
    </a>
  </div>


  <p class="card-text" id="recipe-ingredients"><h5 style="color:#399B80">you'll need...</h5> {{ recipe_ing }}</p>
      <div id="dietary" style="display:none">
          Dietary Preference?
          <br>
          <button class="dietary" id="dietary1" value="balanced">Balanced</button>  
          <button class="dietary" id="dietary2" value="low-carb">Low-Carb</button>
          <br>
          <button class="dietary" id="dietary3" value="low-fat">Low-Fat</button>
          <button class="dietary" id="dietary4" value="">No Preference</button>            
      </div>

      <div id="peanut" style="display:none">
        Peanut Allergies?
          <button class="peanut" id="dietary5" value="peanut-free">Yes</button>  
          <button class="peanut" id="dietary6" value="">No</button>
      </div>    

      <div id="vege" style="display:none">
          Vegetarian?
          <button class="vege" id="health1" value="vegetarian">Yes</button>
          <button class="vege" id="health2" value="">No</button>
      </div>  
    <button type="button" class="btn btn-outline-default waves-effect text-center" id="recipe-yes" style="border-radius:20px; font-family: 'Cabin Sketch', cursive;">chewse this recipe</button>
            <button type="button" class="btn btn-outline-default waves-effect text-center" id="new-random-recipe" style="border-radius:20px; font-family: 'Cabin Sketch', cursive; display:none;">get a new recipe</button>
            <button type="button" class="btn btn-outline-default waves-effect text-center" id="recipe-no" style="border-radius:20px; font-family: 'Cabin Sketch', cursive;">filter more</button>
</div>


{% set movie_url = "https://www.themoviedb.org/movie/"+movie['id']|string %}        
{% if movie['poster_path'] %}
{% set movie_image = "https://image.tmdb.org/t/p/w500/"+movie['poster_path'] %}
{% else %}
{% set movie_image = "https://anest.ufl.edu/files/2015/04/No_image_available.jpg" %}
{% endif %}
{% set movie_name = movie['title'] %}
{% set movie_id = movie['id'] %}
{% set movie_overview = movie['overview'] %}

<!-- Jumbotron -->

<div class="jumbotron text-center col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-12" id="movie" style="display:none">

  <!-- Title -->
  <h4 class="card-title h4 pb-2" id="movie-name" style="font-family: 'Cabin Sketch', cursive;"><strong>{{ movie_name }}</strong></h4>

  <!-- Card image -->
  <div class="view overlay my-4 text-center">
    <img src="{{ movie_image }}" class="img-fluid mx-auto d-block" id="movie-img" style="width:400px; height:450px">
    <a href="{{ movie_url }}" id="movie-url">
      <div class="mask rgba-white-slight"></div>
    </a>
  </div>


  <p class="card-text" id="movie-overview"><h5 style="color:#399B80"> synopsis </h5>{{ movie_overview }}</p>
      <div id="genre-checkbox" style="display:none">
    Filter by Genre?
    <br>
      <input type="checkbox" class="genre" value="action">Action</input>
      <input type="checkbox" class="genre" value="adventure">Adventure</input>
      <input type="checkbox" class="genre" value="animation">Animation</input>
      <input type="checkbox" class="genre" value="comedy">Comedy</input>
      <br>
      <input type="checkbox" class="genre" value="crime">Crime</input>
      <input type="checkbox" class="genre" value="documentary">Documentary</input>
      <input type="checkbox" class="genre" value="drama">Drama</input>
      <input type="checkbox" class="genre" value="family">Family</input>
      <br>
      <input type="checkbox" class="genre" value="fantasy">Fantasy</input>
      <input type="checkbox" class="genre" value="war">War</input>
      <input type="checkbox" class="genre" value="horror">Horror</input>
      <input type="checkbox" class="genre" value="mystery">Mystery</input>
      <br>
      <input type="checkbox" class="genre" value="romance">Romance</input>
      <input type="checkbox" class="genre" value="science fiction">Sci-Fi</input>
      <input type="checkbox" class="genre" value="thriller">Thriller</input>      
      <input type="checkbox" class="genre" value="history">History</input>  
      <br>
    </div>
    <br>
    <div id="year-radio" style="display:none">
        Filter by Year Released?
        <br>
        <input type="text" id="gte" placeholder="Released after" class="year">
        <input type="text" id="lte" placeholder="Released before" class="year">
        <input type="radio" class="year" value="" name="year">No Preference</input>
    </div>

          <button type="button" class="btn btn-outline-default waves-effect text-center" id="movie-yes" style="border-radius:20px; font-family: 'Cabin Sketch', cursive;">chewse this movie</button>
            <button type="button" class="btn btn-outline-default waves-effect text-center" id="new-random-movie" style="border-radius:20px; font-family: 'Cabin Sketch', cursive; display:none;">get a new movie</button>
            <button type="button" class="btn btn-outline-default waves-effect text-center" id="movie-no" style="border-radius:20px; font-family: 'Cabin Sketch', cursive;">filter more</button>


  <form action="/save_activity">
    <a href="" id="youtube-link" target="_blank"><button type="button" class="btn btn-rounded waves-effect" style="color: red; border-radius:500px; display:none;"></button></a>
  </form>
</div>
<!-- Jumbotron -->
</div>
<script src="/static/recipe_update.js"></script>

{% endblock %}
